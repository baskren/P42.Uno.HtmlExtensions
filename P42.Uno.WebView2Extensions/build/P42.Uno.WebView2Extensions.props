<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <Import Project="P42.Uno.WebView2Extensions.Registration.targets" />

  <PropertyGroup>
    <DefineConstants>$(DefineConstants);P42_UNO_WEBVIEW2EXTENSIONS;</DefineConstants>
  </PropertyGroup>

  <!--
  <ItemGroup>
    <WebView2ProjectContentFolder Update="@(WebView2ProjectContentFolder)">
      <Visible>false</Visible>
    </WebView2ProjectContentFolder>
  </ItemGroup>
  -->

  <ItemGroup>

    <MyItem Include="@(MyItem)">
      <CSharpRelativeDir>$([System.String]::Copy('%(RelativeDir)').Replace('\','/').Split('/')[0])</CSharpRelativeDir>
    </MyItem>

    
    <UniqueRootFolders Include="@(MyItem->Metadata('CSharpRelativeDir')->Distinct())"/>

    

    <Content Include="@(MyItem)">
      <!--
      <Link>Platforms/Android/Special/%(RelativeDir)%(RecursiveDir)%(Filename)%(Extension)</Link>
      -->
      <Link>WebView2ContentFile/%(Identity)</Link>
    </Content>
  </ItemGroup>


  <!-- HOW I WISH THIS WORKED - HOWEVER, THIS MAKES VISUALSTUDIO AND RIDER UNHAPPY
  <ItemGroup>
    <PackageVersion Include="P42.Uno.WebView2Extensions.Skia" Version="6.2.58" />
    <PackageVersion Include="P42.Uno.WebView2Extensions.Native" Version="6.2.58" />
    <PackageReference  Condition="   $(UnoFeatures.Contains(';skiarenderer;'))  "  Include="P42.Uno.WebView2Extensions.Skia"    />
    <PackageReference  Condition="  !$(UnoFeatures.Contains(';skiarenderer;'))  "  Include="P42.Uno.WebView2Extensions.Native"  />
  </ItemGroup>
  -->


</Project>
